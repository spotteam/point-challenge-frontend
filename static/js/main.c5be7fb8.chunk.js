(this["webpackJsonppoint-challenge-frontend"]=this["webpackJsonppoint-challenge-frontend"]||[]).push([[0],{46:function(t,e,n){},47:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},55:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),c=(n(46),n(35)),l=n(40),s=n(7),d=n(60),u=n(62),p=n(39),j=n(36),h=n(27),b=function(t,e,n){return fetch("https://point-backend-saad-eswar.herokuapp.com/secure/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t},body:JSON.stringify({query:e,variables:n})}).then((function(t){return t.json()}))},f=function(t,e){b(t,"\n    query {\n      posts {\n        id\n        createdAt\n        content\n      }\n      user {\n        email\n      }\n    }\n  ",{}).then((function(t){void 0!==t&&void 0!==t.data&&void 0!==t.data.posts&&void 0!==t.data.user&&void 0!==t.data.user.email?e(!0,t.data.posts.reverse(),t.data.user.email):e(!1)})).catch((function(t){e(!1)}))},v=function(t,e,n){fetch("https://point-backend-saad-eswar.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t,password:e})}).then((function(t){return t.status,t.json()})).then((function(t){void 0!==t&&void 0!==t.token&&n(t.token)}))},O=(n(47),n(3));var m=function(t){var e=Object(a.useState)(""),n=Object(s.a)(e,2),r=n[0],o=n[1];return Object(O.jsxs)("div",{className:"composer-card",children:[Object(O.jsx)(h.a,{className:"tweet-composer",placeholder:"What's on your mind?",value:r,minRows:2,onChange:function(t){o(t.target.value)}}),Object(O.jsx)(j.a,{className:"tweet-button",variant:"primary",onClick:function(e){var n,a,i;e.preventDefault(),n=t.token,a=r,i=t.addTweetToList,b(n,"mutation CreatePost($content: String) {\n    createPost(content: $content) {\n      id\n      createdAt\n      content\n    }\n  }",{content:a}).then((function(t){void 0!==t&&void 0!==t.data&&void 0!==t.data.createPost&&i(t.data.createPost)})),o("")},children:"Tweet"})]})};function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function x(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var w=a.createElement("path",{d:"M15,0H9A3,3,0,0,0,6,3V4H2A1,1,0,0,0,2,6H3.054L3.9,21.167a3,3,0,0,0,3,2.833H17.108a3,3,0,0,0,3-2.833L20.946,6H22a1,1,0,0,0,0-2H18V3A3,3,0,0,0,15,0ZM8,3A1,1,0,0,1,9,2h6a1,1,0,0,1,1,1V4H8ZM18.106,21.056a1,1,0,0,1-1,.944H6.892a1,1,0,0,1-1-.944L5.057,6H18.943Z"}),y=a.createElement("path",{d:"M12,10a1,1,0,0,0-1,1v6a1,1,0,0,0,2,0V11A1,1,0,0,0,12,10Z"}),A=a.createElement("path",{d:"M16,10a1,1,0,0,0-1,1v6a1,1,0,0,0,2,0V11A1,1,0,0,0,16,10Z"}),S=a.createElement("path",{d:"M8,10a1,1,0,0,0-1,1v6a1,1,0,0,0,2,0V11A1,1,0,0,0,8,10Z"});function I(t,e){var n=t.title,r=t.titleId,o=x(t,["title","titleId"]);return a.createElement("svg",g({height:"100px",width:"100px",fill:"#1a1a1a",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 24 24",x:"0px",y:"0px",ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,w,y,A,S)}var E=a.forwardRef(I);n.p;function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function H(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var V=a.createElement("path",{d:"M2,28a3,3,0,0,0,3,3h5a1,1,0,0,0,0-2H5a1,1,0,0,1-1-1V6A1,1,0,0,1,5,5H7V6A1,1,0,0,0,9,6V5h4V6a1,1,0,0,0,2,0V5h4V6a1,1,0,0,0,2,0V5h2a1,1,0,0,1,1,1v6a1,1,0,0,0,2,0V6a3,3,0,0,0-3-3H21V2a1,1,0,0,0-2,0V3H15V2a1,1,0,1,0-2,0V3H9V2A1,1,0,0,0,7,2V3H5A3,3,0,0,0,2,6Z"}),L=a.createElement("path",{d:"M8,12H20a1,1,0,0,0,0-2H8a1,1,0,1,0,0,2Z"}),k=a.createElement("path",{d:"M8,16H18a1,1,0,1,0,0-2H8a1,1,0,1,0,0,2Z"}),C=a.createElement("path",{d:"M16,19a1,1,0,0,0-1-1H8a1,1,0,1,0,0,2h7A1,1,0,0,0,16,19Z"}),N=a.createElement("path",{d:"M8,22a1,1,0,1,0,0,2h4a1,1,0,0,0,0-2Z"}),T=a.createElement("path",{d:"M14,31a.882.882,0,0,0,.23-.024L17.94,30.1a.993.993,0,0,0,.477-.266L29.169,19.077a3,3,0,0,0-4.242-4.242L14.175,25.587a1,1,0,0,0-.266.476l-.878,3.707A1.01,1.01,0,0,0,14,31Zm1.785-4.2L26.341,16.249a1.006,1.006,0,0,1,1.414,1.414L17.2,28.215l-1.852.438Z"});function Z(t,e){var n=t.title,r=t.titleId,o=H(t,["title","titleId"]);return a.createElement("svg",P({height:"100px",width:"100px",fill:"#1A1A1A",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 32 32",x:"0px",y:"0px",ref:e,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,V,L,k,C,N,T)}var M=a.forwardRef(Z);n.p;function $(){return($=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function B(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var D=a.createElement("path",{d:"M70,28H53V18H47V28H30A11,11,0,0,0,19,39V71A11,11,0,0,0,30,82H70A11,11,0,0,0,81,71V39A11,11,0,0,0,70,28Zm5,43a5,5,0,0,1-5,5H30a5,5,0,0,1-5-5V39a5,5,0,0,1,5-5H47V55.76l-9-9L33.76,51,47.88,65.12a3,3,0,0,0,4.24,0L66.24,51,62,46.76l-9,9V34H70a5,5,0,0,1,5,5Z"});function R(t,e){var n=t.title,r=t.titleId,o=B(t,["title","titleId"]);return a.createElement("svg",$({height:"100px",width:"100px",fill:"#1A1A1A",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 100 100",x:"0px",y:"0px",ref:e,"aria-labelledby":r},o),void 0===n?a.createElement("title",{id:r},"Artboard 79"):n?a.createElement("title",{id:r},n):null,D)}var G=a.forwardRef(R);n.p,n(49);var J=function(t){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),r=n[0],o=n[1],i=Object(a.useState)(t.content),c=Object(s.a)(i,2),l=c[0],d=c[1];return Object(O.jsxs)("div",{className:"tweet-card",children:[Object(O.jsxs)("div",{className:"tweet-header",children:[Object(O.jsx)("div",{className:"tweet-user",children:t.userName}),Object(O.jsx)("div",{children:new Date(t.createdAt).toLocaleString()})]}),Object(O.jsxs)("div",{className:"tweet-body",children:[Object(O.jsx)("div",{style:{flexGrow:1},children:Object(O.jsx)(h.a,{className:"tweet-content",style:{borderColor:r?"black":"transparent"},value:l,onChange:function(t){return d(t.target.value)},disabled:!r})}),Object(O.jsxs)("div",{className:"tweet-actions",children:[r?Object(O.jsx)(G,{className:"save-icon",style:{marginRight:"5px"},onClick:function(e){!function(t,e,n,a){b(t,"mutation EditPost($postId: Int, $content: String) {\n    editPost(postId: $postId, content: $content) {\n      id\n      createdAt\n      content\n    }\n  }",{postId:e,content:n}).then((function(t){void 0!==t&&void 0!==t.data&&void 0!==t.data.editPost&&a(e,t.data.editPost.content)}))}(t.token,t.id,l,t.updateTweet),o(!1)}}):Object(O.jsx)(M,{className:"edit-icon",style:{marginRight:"5px"},onClick:function(t){o(!0)}}),Object(O.jsx)(E,{className:"delete-icon",onClick:function(e){var n,a,r;n=t.token,a=t.id,r=t.deleteTweet,b(n,"mutation DeletePost($postId: Int) {\n    deletePost(postId: $postId)\n  }",{postId:a}).then((function(t){r(a)}))}})]})]})]})},z=n(63),F=n(59),q=n(61);n(50);var K=function(t){var e=Object(a.useState)(""),n=Object(s.a)(e,2),r=n[0],o=n[1],i=Object(a.useState)(""),c=Object(s.a)(i,2),l=c[0],d=c[1],u=function(e){e.preventDefault(),function(t,e,n){fetch("https://point-backend-saad-eswar.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t,password:e})}).then((function(a){200!==a.status||v(t,e,n)}))}(r,l,(function(e){window.localStorage.setItem("jwt",e),t.initialize(e)}))};return Object(O.jsx)("div",{className:"signup-card",children:Object(O.jsxs)(z.a,{defaultActiveKey:"signup",transition:!1,children:[Object(O.jsx)(F.a,{eventKey:"signup",title:"Sign Up",children:Object(O.jsxs)(q.a,{onSubmit:function(t){return u(t)},children:[Object(O.jsxs)(q.a.Group,{controlId:"signupEmail",children:[Object(O.jsx)(q.a.Label,{children:"Email address"}),Object(O.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",onChange:function(t){return o(t.target.value)}})]}),Object(O.jsxs)(q.a.Group,{controlId:"signupPassword",children:[Object(O.jsx)(q.a.Label,{children:"Password"}),Object(O.jsx)(q.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return d(t.target.value)}})]}),Object(O.jsx)(j.a,{variant:"primary",type:"submit",children:"Sign Up"})]})}),Object(O.jsx)(F.a,{eventKey:"login",title:"Log In",children:Object(O.jsxs)(q.a,{onSubmit:function(e){return function(e){e.preventDefault(),v(r,l,(function(e){window.localStorage.setItem("jwt",e),t.initialize(e)}))}(e)},children:[Object(O.jsxs)(q.a.Group,{controlId:"loginEmail",children:[Object(O.jsx)(q.a.Label,{children:"Email address"}),Object(O.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",onChange:function(t){return o(t.target.value)}})]}),Object(O.jsxs)(q.a.Group,{controlId:"loginPassword",children:[Object(O.jsx)(q.a.Label,{children:"Password"}),Object(O.jsx)(q.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return d(t.target.value)}})]}),Object(O.jsx)(j.a,{variant:"primary",type:"submit",children:"Log In"})]})})]})})};n(55),n(56);var U=function(){var t=Object(a.useState)([]),e=Object(s.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),h=i[0],b=i[1],v=Object(a.useState)(!0),g=Object(s.a)(v,2),x=g[0],w=g[1],y=Object(a.useState)(null),A=Object(s.a)(y,2),S=A[0],I=A[1];Object(a.useEffect)((function(){var t=window.localStorage.getItem("jwt");void 0!==t&&null!==t?f(t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!0===e&&null!==n&&null!==a&&(r(n),b(a),I(t)),w(!1)})):w(!1)}),[]);var E=function(t){return r(n.filter((function(e){return e.id!==t})))},P=function(t,e){return r(n.map((function(n){return n.id===t?Object(c.a)(Object(c.a)({},n),{},{content:e}):n})))};return Object(O.jsx)("div",{className:"product-container",children:x?Object(O.jsx)(d.a,{animation:"border",variant:"primary"}):null!==S?Object(O.jsxs)("div",{children:[Object(O.jsxs)(u.a,{style:{alignItems:"flex-start"},fixed:"top",children:[Object(O.jsx)(p.a,{className:"mr-auto"}),Object(O.jsx)(j.a,{variant:"primary",onClick:function(){window.localStorage.removeItem("jwt"),I(null),r([]),b("")},children:"Log Out"})]}),Object(O.jsx)("div",{className:"header-text",children:"Twitter Clone - by Eswar and Saad"}),Object(O.jsx)(m,{token:S,addTweetToList:function(t){return r((function(e){return[t].concat(Object(l.a)(e))}))}}),Object(O.jsx)("div",{children:n.map((function(t){return Object(O.jsx)(J,{id:t.id,content:t.content,createdAt:t.createdAt,token:S,userName:h,deleteTweet:E,updateTweet:P},t.id)}))})]}):Object(O.jsx)(K,{initialize:function(t){f(t,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!0===t&&null!==e&&null!==n&&(r(e),b(n))})),I(t)}})})},W=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root")),W()}},[[57,1,2]]]);
//# sourceMappingURL=main.c5be7fb8.chunk.js.map